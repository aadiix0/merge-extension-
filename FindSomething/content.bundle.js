(()=>{var e={815:function(e,t){var n,s,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=[e],n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const r=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,n)=>(...s)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||s.length<=1&&!1!==n.singleCallbackArg?t.resolve(s[0]):t.resolve(s)},o=e=>1==e?"argument":"arguments",g=(e,t)=>function(n,...s){if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((r,o)=>{if(t.fallbackToNoCallback)try{n[e](...s,i({resolve:r,reject:o},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...s),t.fallbackToNoCallback=!1,t.noCallback=!0,r()}else t.noCallback?(n[e](...s),r()):n[e](...s,i({resolve:r,reject:o},t))})},a=(e,t,n)=>new Proxy(t,{apply:(t,s,r)=>n.call(s,e,...r)});let m=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},n={})=>{let s=Object.create(null),r={has:(t,n)=>n in e||n in s,get(r,i,o){if(i in s)return s[i];if(!(i in e))return;let d=e[i];if("function"==typeof d)if("function"==typeof t[i])d=a(e,e[i],t[i]);else if(m(n,i)){let t=g(i,n[i]);d=a(e,e[i],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(m(t,i)||m(n,i)))d=l(d,t[i],n[i]);else{if(!m(n,"*"))return Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),d;d=l(d,t[i],n["*"])}return s[i]=d,d},set:(t,n,r,i)=>(n in s?s[n]=r:e[n]=r,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(s,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(s,t)},i=Object.create(e);return new Proxy(i,r)},d=e=>({addListener(t,n,...s){t.addListener(e.get(n),...s)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),c=new s(e=>"function"!=typeof e?e:function(t){const n=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)}),f=new s(e=>"function"!=typeof e?e:function(t,n,s){let i,o,g=!1,a=new Promise(e=>{i=function(t){g=!0,e(t)}});try{o=e(t,n,i)}catch(e){o=Promise.reject(e)}const m=!0!==o&&r(o);if(!0!==o&&!m&&!g)return!1;const l=e=>{e.then(e=>{s(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return l(m?o:a),!0}),A=({reject:n,resolve:s},r)=>{e.runtime.lastError?e.runtime.lastError.message===t?s():n(new Error(e.runtime.lastError.message)):r&&r.__mozWebExtensionPolyfillReject__?n(new Error(r.message)):s(r)},h=(e,t,n,...s)=>{if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((e,t)=>{const r=A.bind(null,{resolve:e,reject:t});s.push(r),n.sendMessage(...s)})},u={devtools:{network:{onRequestFinished:d(c)}},runtime:{onMessage:d(f),onMessageExternal:d(f),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},x={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":x},services:{"*":x},websites:{"*":x}},l(e,u,n)};e.exports=n(chrome)}},void 0===(r="function"==typeof n?n.apply(t,s):n)||(e.exports=r)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(815),t=n.n(e);function s(e){const t={};if(e){const n=e.split("\r\n");for(const e of n){const n=e.indexOf(":");if(n>0){const s=e.substring(0,n).trim(),r=e.substring(n+1).trim();t[s]=r}}}return t}!function(){var e=window.location.protocol,n=window.location.host,s=n.split(":")[0],r=window.location.href,i=document.documentElement.outerHTML,o=!0;function g(i){var g=[".google.com",".amazon.com","portswigger.net"],a=[],m=i.match(/href=['"].*?['"]/g),l=i.match(/src=['"].*?['"]/g),d=i.match(/<script [^><]*?src=['"].*?['"]/g);function c(t){let s;if("http"==t.substring(0,4))s=t;else if("//"==t.substring(0,2))s=e+t;else if("/"==t.substring(0,1))s=e+"//"+n+t;else if("./"==t.substring(0,2)){let e;e=r.indexOf("#")>0?r.substring(0,r.indexOf("#")):r,s=e.substring(0,e.lastIndexOf("/")+1)+t}else{let e;e=r.indexOf("#")>0?r.substring(0,r.indexOf("#")):r,s=e.substring(0,e.lastIndexOf("/")+1)+t}if(!o||function(e){try{return new URL(e).pathname.endsWith(".js")}catch(e){return!1}}(s)||function(e){if(d)for(var t=0;t<d.length;t++)if(d[t].indexOf(e)>0)return!0;return!1}(t))return s}t().storage.local.get(["settingSafeMode"]).then(function(e){o=0!=e.settingSafeMode}),t().storage.local.get(["allowlist"]).then(function(e){e&&e.allowlist&&(g=e.allowlist);for(var o=0;o<g.length;o++)if(n.endsWith(g[o])||s.endsWith(g[o]))return void console.log("域名在白名单中，跳过当前页");if(m)for(o=0;o<m.length;o++){(d=c(m[o].substring(6,m[o].length-1)))&&a.push(d)}if(l)for(o=0;o<l.length;o++){var d;(d=c(l[o].substring(5,l[o].length-1)))&&a.push(d)}const f=[];for(o=0;o<a.length;o++)-1===f.indexOf(a[o])&&f.push(a[o]);f.pop(r),t().runtime.sendMessage({greeting:"find",data:a,current:r,source:i}).then(function(e){}).catch(function(e){})})}g(i),document.querySelectorAll("iframe").forEach(function(e){e.addEventListener("load",function(){g((e.contentDocument||e.contentWindow.document).documentElement.outerHTML)})})}(),t().storage.local.get(["global_float"]).then(function(e){if(1!=e.global_float)return;const t=document.getElementsByTagName("html")[0],n=document.createElement("div");n.setAttribute("id","findsomething-float-div"),n.innerHTML='\n    <findsomething-div id="findsomething_neko" style="width:410px;max-height:500px;font-size:14px;color:#000000;box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1) ;background-color: #fff;border-radius: 5px;border: 1px solid #ebebeb;left:20px;top:20px;position: fixed;z-index: 1000000;overflow:scroll;">\n          <findsomething-div id="findsomething_neko-title" style="display: flex;justify-content: space-between;">\n            <findsomething-div id="findsomething_taskstatus" style="height: 34px; line-height: 34px; margin-left: 10px;"></findsomething-div>\n            <findsomething-div style="cursor: pointer;margin-top: 2px;margin-right: 10px;" onclick=\'(function(){document.getElementById("findsomething-float-div").removeChild(document.getElementById("neko"));})()\'>隐藏</findsomething-div>\n          </findsomething-div>\n            <findsomething-div style="width: 300px; margin-top: 10px;">\n                <findsomething-div class="findsomething-title">IP<button type="button" class="finsomething_copy" name="ip">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_ip" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">IP_PORT<button class="findsomething_copy" name="ip_port">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_ip_port" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">域名<button class="findsomething_copy" name="domain">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_domain" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">身份证<button class="findsomething_copy" name="sfz">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_sfz" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">手机号<button class="findsomething_copy" name="mobile">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_mobile" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">邮箱<button class="findsomething_copy" name="mail">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_mail" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">JWT<button class="findsomething_copy" name="jwt">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_jwt" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">算法<button class="findsomething_copy" name="algorithm">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_algorithm" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">Secret<button class="findsomething_copy" name="secret">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_secret" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">Path<button class="findsomething_copy" name="path">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_path" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">IncompletePath<button class="findsomething_copy" name="incomplete_path">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_incomplete_path" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">Url<button class="findsomething_copy" name="url">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_url" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n                <findsomething-div class="findsomething-title">StaticUrl<button class="findsomething_copy" name="static">复制</button></findsomething-div>\n                <findsomething-p id="findsomething_static" style="word-break:break-word;margin-left:10px;">🈚️</findsomething-p>\n            </findsomething-div>\n    </findsomething-div>\n        <style type="text/css">\n        .findsomething_copy {\n            border-style: none;\n            background-color: #ffffff;\n            float: right;\n            margin-right: 0px;\n            font-size: 14px;\n        }\n        findsomething-div{\n            display: block;\n        }\n        findsomething-p {\n            display: block;\n            margin-top: 14px;\n            margin-bottom: 14px;\n            line-height: 14px;\n        }\n\n        .findsomething-title {\n            font-size: 16px;\n            font-weight: bold;\n            border-left: 4px solid black;\n            text-indent: 4px;\n            height: 16px;\n            line-height: 16px;\n            width: 100%;\n            margin-left: 10px;\n        }\n\n        button{\n            cursor: pointer\n        }\n        </style>\n        ',t.appendChild(n);var s=document.querySelector("#findsomething_neko"),r=s.offsetWidth,i=s.offsetHeight,o=0,g=0;function a(e,t,n){"left"===e.direction?e.style.left=0-t+"px":"right"===e.direction&&(e.style.left=document.body.offsetWidth-r+t+"px"),"top"===e.direction?e.style.top=0-n+"px":"bottom"===e.direction&&(e.style.top=document.body.offsetHeight-i+n+"px")}s.style.left=parseInt(document.body.offsetWidth-r)+1+"px",s.style.top="50px",a(s,0,0),document.querySelector("#findsomething_neko-title").onmousedown=function(e){var t=e.clientX-s.offsetLeft,n=e.clientY-s.offsetTop;document.onmousemove=function(e){o=0,g=0,s.direction="",s.style.transition="",s.style.left=e.clientX-t+"px",s.style.top=e.clientY-n+"px",e.clientX-t<5&&(s.direction="left"),e.clientY-n<5&&(s.direction="top"),e.clientX-t>document.body.offsetWidth-r-5&&(s.direction="right"),e.clientY-n>document.body.offsetHeight-i-5&&(s.direction="bottom"),a(s,0,0)}},s.onmouseover=function(){var e;a(this,0,0),e=0,this.style.transform=" rotate("+e+")"},s.onmouseout=function(){a(this,r/2,0)},s.onmouseup=function(){document.onmousemove=null,this.style.transition=".5s",a(this,r/2,0)},window.onresize=function(){var e=document.body.offsetHeight,t=s.offsetTop,n=document.body.offsetWidth,m=s.offsetLeft;t+i>e&&(s.style.top=e-i+"px",g++),e>t&&g>0&&(s.style.top=e-i+"px"),m+r>n&&(s.style.left=n-r+"px",o++),n>m&&o>0&&(s.style.left=n-r+"px"),a(this,r/2,0)}}),setTimeout(()=>{!function(){var e=document.getElementsByClassName("findsomething_copy");if(e)for(var t=0,n=0|e.length;t<n;t=t+1|0){let n=e[t].name;e[t].onclick=function(){var e=document.createElement("textarea");document.body.appendChild(e),e.value=document.getElementById(n).textContent,e.select(),document.execCommand("copy",!1),e.remove()}}}()},500);var r=["ip","ip_port","domain","path","incomplete_path","url","static","sfz","mobile","mail","jwt","algorithm","secret"];function i(e){if(e)for(var t in r)if(e[r[t]]){let s="";for(var n in e[r[t]])s=s+e[r[t]][n]+"\n";document.getElementById("findsomething_"+r[t]).style.whiteSpace="pre",document.getElementById("findsomething_"+r[t]).textContent=s}}!function e(){t().runtime.sendMessage({greeting:"get",current:window.location.href}).then(function(t){let n=document.getElementById("findsomething_taskstatus");if(n){if(!t||"done"!=t.done)return t?(i(t),n.textContent="处理中.."+t.donetasklist.length+"/"+t.tasklist.length):n.textContent="处理中..",s=100,new Promise(e=>setTimeout(e,s)),void e();var s;n.textContent="处理完成："+t.donetasklist.length+"/"+t.tasklist.length,i(t),t.donetasklist.length!=t.tasklist.length&&e()}})}(),t().runtime.onMessage.addListener(function(e,n,r){if("proxyRequest"===e.greeting){return function(e,t={}){return new Promise((n,r)=>{const i="string"==typeof e?e:String(e),o=new XMLHttpRequest;o.open(t.method||"GET",i,!0),t.headers&&Object.keys(t.headers).forEach(e=>{o.setRequestHeader(e,t.headers[e])}),o.timeout=t.timeout||8e3,o.onload=function(){const e={text:()=>Promise.resolve(o.responseText),status:o.status,statusText:o.statusText,ok:o.status>=200&&o.status<300,headers:new Headers(s(o.getAllResponseHeaders()))};n(e)},o.onerror=function(){r(new Error(`XHR Error: ${o.statusText||"Network error"}`))},o.ontimeout=function(){r(new Error("XHR Timeout"))};try{t.body?o.send(t.body):o.send()}catch(e){r(new Error(`Send error: ${e.message}`))}})}("string"==typeof e.url?e.url:String(e.url),e.options).then(e=>e.text().then(t=>{r({success:!0,status:e.status,statusText:e.statusText,text:t,headers:Object.fromEntries(e.headers.entries())})})).catch(e=>{r({success:!1,error:e.message})}),!0}if("re-find"==e.greeting){const n=e.target_list,s=e.current;return t().runtime.sendMessage({greeting:"find",data:n,current:s,source:"",ai:!0}).then(function(e){}).catch(function(e){}),r({success:!0}),!1}return"toast"==e.greeting?(function(e,t="info",n=3e3){const s=document.getElementById("findsomething-toast");s&&s.remove();const r=document.createElement("div");r.id="findsomething-toast",r.style.cssText=`\n        position: fixed;\n        top: 20px;\n        left: 20px;\n        background: ${"error"===t?"#f44336":"success"===t?"#4caf50":"#2196f3"};\n        color: white;\n        padding: 12px 20px;\n        border-radius: 4px;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n        z-index: 1000001;\n        font-size: 14px;\n        max-width: 300px;\n        word-wrap: break-word;\n        opacity: 0;\n        transform: translateX(-100%);\n        transition: all 0.3s ease;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    `,r.textContent=e,document.body.appendChild(r),setTimeout(()=>{r.style.opacity="1",r.style.transform="translateX(0)"},100),setTimeout(()=>{r.style.opacity="0",r.style.transform="translateX(-100%)",setTimeout(()=>{r.parentNode&&r.remove()},300)},n)}(e.message,"info",4e3),r({success:!0}),!1):(r({success:!1,error:"Unknown message type"}),!1)})})()})();